CC = g++
DEBUG = -g
CFLAGS = -Wall -c $(DEBUG)
LDFLAGS = -Wall $(DEBUG)

SENDER_SOURCES = sender.cpp UDPSocket.cpp
SENDER_OBJECTS = $(SENDER_SOURCES:.cpp=.o)
SENDER_EXECUTABLE = sender

RECEIVER_SOURCES = receiver.cpp UDPSocket.cpp
RECEIVER_OBJECTS = $(RECEIVER_SOURCES:.cpp=.o)
RECEIVER_EXECUTABLE = receiver


all: $(SENDER_SOURCES) $(RECEIVER_SOURCES) $(SENDER_EXECUTABLE) $(RECEIVER_EXECUTABLE)
	
$(SENDER_EXECUTABLE): $(SENDER_OBJECTS) 
	$(CC) $(LDFLAGS) $(SENDER_OBJECTS) -o $@

$(RECEIVER_EXECUTABLE): $(RECEIVER_OBJECTS) 
	$(CC) $(LDFLAGS) $(RECEIVER_OBJECTS) -o $@

.cpp.o:
	$(CC) $(CFLAGS) $< -o $@

clean:
	rm -rf *o $(SENDER_EXECUTABLE). $(RECEIVER_EXECUTABLE).